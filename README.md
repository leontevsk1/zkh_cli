# zkh-pipeline
‚úÖ 1. README.md

# zkh_cli ‚Äî –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –ñ–ö–•-–æ–±—Ä–∞—â–µ–Ω–∏–π

–ü—Ä–æ–µ–∫—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∞—É–¥–∏–æ–∑–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Å—Ñ–µ—Ä–µ –ñ–ö–•: —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç —Ä–µ—á—å, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—É—é —Å–ª—É–∂–±—É, —Å—Ä–æ—á–Ω–æ—Å—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ.

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **Whisper** (`faster-whisper`) ‚Äî –º–æ–¥–µ–ª—å –¥–ª—è ASR (—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏)
- **service_clf** ‚Äî –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–ª—É–∂–±—ã
- **urgency_lgbm** ‚Äî —Ä–µ–≥—Ä–µ—Å—Å–∏—è —Å—Ä–æ—á–Ω–æ—Å—Ç–∏ (–æ—Ü–µ–Ω–∫–∞ –æ—Ç 1 –¥–æ 4)
- **summarizer** ‚Äî T5-–º–æ–¥–µ–ª—å —Å LoRA-–∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π –¥–ª—è –∫—Ä–∞—Ç–∫–æ–≥–æ –ø–µ—Ä–µ—Å–∫–∞–∑–∞

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è)
üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞

    –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python 3.11+ –∏ Git –∏ Micromamba.

    –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞:

python install.py

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:

    –ö–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π leontevsk1/zkh_cli

    –°–æ–∑–¥–∞—ë—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (.venv)

    –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ req.text

    –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∞—Ä—Ö–∏–≤ –º–æ–¥–µ–ª–µ–π —Å GitHub Releases

    –†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª–∏ –≤ –Ω—É–∂–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

üöÄ –ó–∞–ø—É—Å–∫

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

cd zkh_cli
source .venv/bin/activate  # –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

python src/main.py --audio /–ø—É—Ç—å/–∫/–≤–∞—à–µ–º—É/—Ñ–∞–π–ª—É.wav

–í—ã —É–≤–∏–¥–∏—Ç–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç, –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Å–ª—É–∂–±—ã, –≤–∞–∂–Ω–æ—Å—Ç–∏ –∏ –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ.
üíæ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥–µ–ª–µ–π

–ú–æ–¥–µ–ª–∏ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±—É–¥—É—Ç –ª–µ–∂–∞—Ç—å –≤:

src/ml/models/
‚îú‚îÄ‚îÄ service_clf/
‚îú‚îÄ‚îÄ urgency_lgbm/
‚îú‚îÄ‚îÄ zkh_problem_lora/
‚îú‚îÄ‚îÄ base_models/

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:

src/whisper/models/faster-whisper-small/

üîß –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

    Python 3.11

    pip, git, curl —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

    –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π

–ù—É–∂–Ω–æ —Ç–∞–∫–∂–µ:

    –ó–∞–≥—Ä—É–∑–∏—Ç—å models.tar.gz –≤ GitHub Releases

    –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞—Ä—Ö–∏–≤–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç models/... (–∞ –Ω–µ –ª–∏—à–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–∞–ø–∫–∏)
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

python install.py

–°–∫—Ä–∏–ø—Ç:

    –ö–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π zkh_cli

    –°–æ–∑–¥–∞—ë—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å python=3.11 —á–µ—Ä–µ–∑ micromamba

    –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ req.text

    –°–∫–∞—á–∏–≤–∞–µ—Ç –∏ —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª–∏

üñº –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

zkh_cli/
‚îú‚îÄ‚îÄ learn/                    ‚Üê –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π (service, urgency)
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.py               ‚Üê –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
‚îÇ   ‚îú‚îÄ‚îÄ ml/                   ‚Üê –º–æ–¥–µ–ª–∏ –∏ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ whisper/              ‚Üê ASR-—Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îî‚îÄ‚îÄ users_messages/       ‚Üê –æ—Ç–ø—Ä–∞–≤–∫–∞/—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îú‚îÄ‚îÄ req.text                  ‚Üê –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ install.py                ‚Üê —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ archive_models.py         ‚Üê —É–ø–∞–∫–æ–≤–∫–∞ –º–æ–¥–µ–ª–µ–π –≤ –∞—Ä—Ö–∏–≤
‚îî‚îÄ‚îÄ README.md                 ‚Üê —ç—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

üì¶ –ú–æ–¥–µ–ª–∏

–ú–æ–¥–µ–ª–∏ —É–ø–∞–∫–æ–≤–∞–Ω—ã –≤ models.tar.gz, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ.

–°–æ–¥–µ—Ä–∂–∏—Ç:

    service_clf/

    urgency_lgbm/

    base_models/ (T5)

    zkh_problem_lora/

    whisper/models/faster-whisper-small/

üìÑ –ó–∞–ø—É—Å–∫

python src/main.py --audio path/to/record.wav

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–∏—Å—Ç–µ–º–∞:

    –†–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Ä–µ—á—å –∏–∑ .wav —Ñ–∞–π–ª–∞

    –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ (—Å–ª—É–∂–±–∞ + —Å—Ä–æ—á–Ω–æ—Å—Ç—å)

    –§–æ—Ä–º–∏—Ä—É–µ—Ç –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ